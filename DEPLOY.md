# ğŸš€ æ±½æ°´èµ°ç§è€… - éƒ¨ç½²æŒ‡å—

## æ¦‚è¿°

æœ¬é¡¹ç›®åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š
- **å‰ç«¯**: React + TypeScript + Vite æ„å»ºçš„ SPA
- **åç«¯**: Node.js + Express + Socket.io çš„ WebSocket æœåŠ¡å™¨

## éƒ¨ç½²é€‰é¡¹

### æ–¹æ¡ˆ1: åˆ†å¼€éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. éƒ¨ç½²åç«¯æœåŠ¡å™¨

**Render (æ¨è)**
1. åœ¨ [Render](https://render.com) åˆ›å»ºè´¦å·
2. åˆ›å»ºæ–°çš„ Web Service
3. è¿æ¥ GitHub ä»“åº“
4. é…ç½®:
   - Build Command: `cd server && npm install`
   - Start Command: `cd server && npm start`
   - Environment: `Node`
5. éƒ¨ç½²åä¼šè·å¾—ä¸€ä¸ª URLï¼Œå¦‚ `https://soda-smugglers-server.onrender.com`

**Railway**
1. åœ¨ [Railway](https://railway.app) åˆ›å»ºè´¦å·
2. åˆ›å»ºæ–°é¡¹ç›®ï¼Œé€‰æ‹© GitHub ä»“åº“
3. æ·»åŠ å˜é‡: `PORT=3001`
4. éƒ¨ç½²

**Heroku**
1. åœ¨ [Heroku](https://heroku.com) åˆ›å»ºè´¦å·
2. åˆ›å»ºæ–°åº”ç”¨
3. è¿æ¥ GitHub ä»“åº“
4. éƒ¨ç½²

#### 2. æ›´æ–°å‰ç«¯é…ç½®

ä¿®æ”¹ `app/.env` æ–‡ä»¶ï¼š
```
VITE_SERVER_URL=https://ä½ çš„æœåŠ¡å™¨åœ°å€
```

é‡æ–°æ„å»ºå‰ç«¯ï¼š
```bash
cd app && npm run build
```

#### 3. éƒ¨ç½²å‰ç«¯

**Netlify**
1. åœ¨ [Netlify](https://netlify.com) åˆ›å»ºè´¦å·
2. æ‹–æ‹½ `app/dist` æ–‡ä»¶å¤¹ä¸Šä¼ 

**Vercel**
1. åœ¨ [Vercel](https://vercel.com) åˆ›å»ºè´¦å·
2. å¯¼å…¥ GitHub ä»“åº“
3. é…ç½®æ ¹ç›®å½•ä¸º `app`
4. éƒ¨ç½²

**GitHub Pages**
1. å°† `app/dist` å†…å®¹æ¨é€åˆ° `gh-pages` åˆ†æ”¯
2. å¯ç”¨ GitHub Pages

---

### æ–¹æ¡ˆ2: ä½¿ç”¨ Docker ç»Ÿä¸€éƒ¨ç½²

#### 1. æ„å»º Docker é•œåƒ

```bash
docker build -t soda-smugglers .
```

#### 2. è¿è¡Œå®¹å™¨

```bash
docker run -p 3000:3000 -p 3001:3001 soda-smugglers
```

#### 3. éƒ¨ç½²åˆ°æ”¯æŒ Docker çš„å¹³å°

**Railway**
- ç›´æ¥æ¨é€ä»£ç ï¼ŒRailway ä¼šè‡ªåŠ¨æ£€æµ‹ Dockerfile

**Fly.io**
```bash
fly launch
fly deploy
```

---

### æ–¹æ¡ˆ3: æœ¬åœ°æµ‹è¯•éƒ¨ç½²

#### 1. å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
cd server
npm install
npm start
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3001` å¯åŠ¨

#### 2. å¯åŠ¨å‰ç«¯ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
cd app
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

#### 3. ç”Ÿäº§æ¨¡å¼æµ‹è¯•

```bash
cd app
npm run build
npx serve dist -l 3000
```

---

## ç¯å¢ƒå˜é‡

### åç«¯ (.env)
```
PORT=3001
```

### å‰ç«¯ (.env)
```
# å¼€å‘ç¯å¢ƒ
VITE_SERVER_URL=http://localhost:3001

# ç”Ÿäº§ç¯å¢ƒ
VITE_SERVER_URL=https://ä½ çš„æœåŠ¡å™¨åœ°å€
```

---

## æ•…éšœæ’æŸ¥

### è¿æ¥é—®é¢˜

**ç—‡çŠ¶**: æ˜¾ç¤º"æœªè¿æ¥"

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥åç«¯æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. ç¡®è®¤å‰ç«¯é…ç½®çš„æœåŠ¡å™¨åœ°å€æ­£ç¡®
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚

### CORS é”™è¯¯

**ç—‡çŠ¶**: è·¨åŸŸè¯·æ±‚è¢«é˜»æ­¢

**è§£å†³æ–¹æ¡ˆ**:
åç«¯å·²é…ç½® CORS å…è®¸æ‰€æœ‰æ¥æºï¼Œå¦‚æœä»æœ‰é—®é¢˜ï¼š
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£ç¡®å“åº” OPTIONS è¯·æ±‚
2. ç¡®è®¤æœåŠ¡å™¨åœ°å€åè®®ï¼ˆhttp/httpsï¼‰æ­£ç¡®

### æˆ¿é—´æ‰¾ä¸åˆ°

**ç—‡çŠ¶**: æç¤º"æˆ¿é—´ä¸å­˜åœ¨"

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤æ‰€æœ‰ç©å®¶è¿æ¥åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨
2. æ£€æŸ¥æˆ¿é—´ä»£ç æ˜¯å¦æ­£ç¡®
3. æœåŠ¡å™¨é‡å¯åæˆ¿é—´æ•°æ®ä¼šä¸¢å¤±ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

---

## ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **ä½¿ç”¨ Redis å­˜å‚¨æˆ¿é—´æ•°æ®**
   - å½“å‰ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼ŒæœåŠ¡å™¨é‡å¯æ•°æ®ä¸¢å¤±
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Redis æˆ–æ•°æ®åº“

2. **æ·»åŠ æˆ¿é—´è¿‡æœŸæœºåˆ¶**
   - é•¿æ—¶é—´æ— æ´»åŠ¨çš„æˆ¿é—´è‡ªåŠ¨æ¸…ç†
   - é˜²æ­¢å†…å­˜æ³„æ¼

3. **æ·»åŠ æ—¥å¿—è®°å½•**
   - ä½¿ç”¨ Winston æˆ–ç±»ä¼¼å·¥å…·
   - è®°å½•æ¸¸æˆäº‹ä»¶ä¾¿äºè°ƒè¯•

4. **æ·»åŠ ç›‘æ§**
   - ä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç†
   - æ·»åŠ å¥åº·æ£€æŸ¥ç«¯ç‚¹

5. **ä½¿ç”¨ HTTPS**
   - ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨ HTTPS
   - WebSocket åœ¨ HTTPS é¡µé¢éœ€è¦ WSS

---

## å…è´¹éƒ¨ç½²å¹³å°æ¨è

| å¹³å° | å‰ç«¯ | åç«¯ | ä¼˜ç‚¹ |
|------|------|------|------|
| Render | âœ… | âœ… | å…è´¹ï¼Œæ˜“ç”¨ |
| Railway | âœ… | âœ… | å…è´¹é¢åº¦å……è¶³ |
| Netlify | âœ… | âŒ | å‰ç«¯ä¸“ç”¨ï¼ŒCDN å¿« |
| Vercel | âœ… | âŒ | å‰ç«¯ä¸“ç”¨ï¼ŒNext.js å‹å¥½ |
| Fly.io | âœ… | âœ… | å…¨çƒéƒ¨ç½² |

---

## å¿«é€Ÿå¼€å§‹ï¼ˆå¼€å‘ï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repo-url>
cd soda-smugglers

# 2. å®‰è£…åç«¯ä¾èµ–
cd server
npm install

# 3. å®‰è£…å‰ç«¯ä¾èµ–
cd ../app
npm install

# 4. å¯åŠ¨åç«¯ï¼ˆç»ˆç«¯1ï¼‰
cd ../server
npm start

# 5. å¯åŠ¨å‰ç«¯ï¼ˆç»ˆç«¯2ï¼‰
cd ../app
npm run dev

# 6. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173
```

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹ [GitHub Issues](https://github.com/your-repo/issues)
- è”ç³»å¼€å‘è€…
